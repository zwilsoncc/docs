import Layout from '~/components/layout/knowledge'
import { InlineCode } from '~/components/text/code'
import Caption from '~/components/text/caption'
import Snippet from '~/components/snippet'
import { Image } from '~/components/media'

export const meta = {
  title: 'How do I send and receive emails with my Vercel purchased domain?',
  description:
    'Information on how to send and receive email with a domain purchased from Vercel.',
  editUrl: 'pages/knowledge/using-email-with-your-vercel-domain.mdx',
  url: '/knowledge/using-email-with-your-vercel-domain',
  published: '2020-05-18T18:54:36.000Z',
  lastEdited: '2020-05-29T11:52:03.000Z'
}

As Vercel is a platform focused on deployments, it does not provide a mail service for domains purchase with or transferred into it.

## Third-Party Services

Because many domain providers do not offer a mail service, there are a number of third-party services that specifically offer this type of functionality and are enabled by adding DNS records.

Examples of this type of service include [ImproxMX](https://improvmx.com/) and [Forward Email](https://forwardemail.net/en), however there are many more options available. For each provider, different DNS records are required to be added.

## DNS Preset

You can use the [DNS UI](https://vercel.com/blog/dns-records-ui) to add a preset for common mail services.

<Image
  src={`${
    process.env.ASSETS
  }/knowledge/dns-ui-preset.png`}
  width={1079}
  height={436}
/>
<Caption>The preset dropdown in the DNS UI.</Caption>

If your email provider is not in the list of presets, you can proceed to next section where we will discuss adding records manually.

## Adding DNS Records

While the DNS UI does have a preset for G Suite, it will serve as an example in this article. You can consult the documentation for G Suite [here](https://support.google.com/a/answer/140034?hl=en)

1. First you need to insert the MX records related to your service:

<Image
  src={`${
    process.env.ASSETS
  }/knowledge/dns-ui-mx-record.png`}
  width={1050}
  height={345}
/>
<Caption>Adding a MX record to your domain.</Caption>

You will likely need to repeat this step multiple times, depending on the number of records your provider requires you to add.

2. The second step is to verify the domain. G Suite is requiring a [TXT record](https://support.google.com/a/answer/183895?hl=en) so we can verify the domain.

<Image
  src={`${
    process.env.ASSETS
  }/knowledge/dns-ui-txt-record.png`}
  width={1043}
  height={326}
/>
<Caption>Adding a TXT record to your domain.</Caption>

In this case, the TXT should be in the root domain and that is why the `'name'` field is empty. You need to check the required arguments with your mail provider.

export default ({ children }) => <Layout meta={meta}>{children}</Layout>

export const config = {
  amp: 'hybrid'
}
