import { withAmp } from 'next/amp'
import Doc from '~/components/layout/docs'
import { TerminalInput } from '~/components/text/terminal'
import { Image, Video } from '~/components/media'
import Caption from '~/components/text/caption'
import Card from '~/components/card'
import Note from '~/components/text/note'
import { GenericLink } from '~/components/text/link'

export const meta = {
  title: 'Buying a Domain with ZEIT',
  description:
    'Buying a domain with ZEIT for use with ZEIT Now deployments and aliases.',
  editUrl: 'pages/docs/v2/domains-and-aliases/buying-a-domain.mdx',
  lastEdited: '2019-01-31T20:06:54.000Z'
}

If you want a brand new domain to use with your Now deployments, you can buy one directly from Now and have it setup automatically on your account without any further need of setup.

When buying a domain, it may take a few minutes to setup and propagate before it is ready to use. In this time, the domain will show as external when you see it in Now CLI or from the Web UI.

<Note>
  Already have a domain?{' '}
  <GenericLink href="/docs/v2/domains-and-aliases/adding-a-domain">
    Add any existing domain
  </GenericLink>{' '}
  to your ZEIT account or team and use it with your deployments.
</Note>

### From the Web

Using the [ZEIT domains page](/domains) you can search for an available domain and then add it to your account in an instant. The domain will automatically be setup, ready for you to alias your deployments to.

<Image
src={`https://assets.zeit.co/image/upload/v1546827186/front/docs/domains/search-a-domain.png`}
width={1652/2}
height={1016/2}
/>
<Caption>Searching for a domain on the <GenericLink href="/domains">ZEIT Domains page</GenericLink>.</Caption>

When you find the domain you want, you can buy it right there and then:

<Image
src={`https://assets.zeit.co/image/upload/v1546827186/front/docs/domains/buy-a-domain.png`}
width={1652/2}
height={1016/2}
/>
<Caption>Buying a domain from the ZEIT Domains page.</Caption>

After the domain is purchased and ready, you will see it listed in your account or team's domains dashboard. You are now free to use this domain to alias your deployments to without any extra config!

<Image
src={`https://assets.zeit.co/image/upload/v1546827186/front/docs/domains/buy-a-domain.png`}
width={1652/2}
height={1016/2}
/>
<Caption>The bought domain listed in the domains dashboard.</Caption>

### From the CLI

You can buy a domain with Now CLI using the `now domains buy` command:

<TerminalInput>{`now domains buy <domain>`}</TerminalInput>

<Video
src={`https://assets.zeit.co/video/upload/v1546827186/front/docs/domains/domains-buy-cli.mp4`}
width={1400/2}
height={846/2}
/>
<Caption>Buying a domain with Now CLI.</Caption>

Once the domain is bought, it will automatically be verified (this may take a few minutes) and available for you to alias your deployments.

You can see your domain in your account by using the `now domains ls` command or checking the setup status by using the `now domains inspect` command.

<Image
src={`https://assets.zeit.co/image/upload/v1546827186/front/docs/domains/domains-list-cli.png`}
width={1380/2}
height={868/2}
/>
<Caption>Listing and finding a domain with Now CLI.</Caption>

## Using Domains

With a domain in account or team, the next step is to alias a deployment to that domain.

<Card
  title="Read Next: Aliasing"
  href="/docs/v2/domains-and-aliases/aliasing-a-deployment"
>
  Alias deployments with your domain.
</Card>

<Card title="Read Next: Deploying Basics" href="/docs/v2/deployments/basics">
  Deploying your applications to host on your added domain.
</Card>

export default withAmp(({ children }) => <Doc meta={meta}>{children}</Doc>, {
  hybrid: true
})
